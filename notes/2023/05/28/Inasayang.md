SQL中的图查询

-   需要先遍历数量未知的边



RDF数据模型

-   三元组的主体，谓语，客体通常是URI



数据存储与检索

-   追加到文件尾部的方式通常足够高效
-   日志是一个仅支持追加式跟新的数据文件
-   高效的查找数据，需要数据结构：索引



哈希索引

-   Bitcask需要将所有的key放入内存，value需要一次磁盘寻址
-   Bitcask适合每个键的值频繁更新的场景
-   压缩是在日志中丢弃重复的键，保留最新的更新
-   文件格式是二进制
-   删除记录是追加特殊的标志（墓碑），合并的时候再删除
-   崩溃恢复，将`hash map`的`snapshot`存储在磁盘上
-   部分写入，添加crc，损坏部分丢弃
-   并发控制，一写，多读



选择追加式日志的原因

-   顺序写，速度快
-   处理并发和崩溃恢复方便
-   避免文件碎片化



哈希表索引的缺点

-   需要全部写入内存
-   区间查询效率低



Pp. 52-76