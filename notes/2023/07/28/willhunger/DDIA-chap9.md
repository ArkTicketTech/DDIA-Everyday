##### Linearizability and network delays
现代多核CPU上的内存甚至就是非线性化：如果某个CPU核上运行的线程修改一个内存  地址， 紧接着另一个CPU核上的线程尝试读取， 则系统无法保证可以读到刚刚写入的值， 除非使用了内存屏障或 fence 指令。

原因：每个 CPU 核都有自己独立的 cache 和寄存器。 内存访问首先进入 cache系 统， 所有修改默认会异步地刷新到主存。 由于访问 cache 比访问主存要快得多，所以这样的异步刷新特性对于现代 CPU 的性能至关重要。 但是， 这就导致出现了多个数据副本（一个在主存， 另外几个在不同级别的 cache 中）， 而副本更新是异步方式， 无法保证线性化。

CAP理论不适用于当今的多核－内存一致性模型：在计算机内部， 我们通常假设通信是可靠的， 例如我们不会假定一个CPU核在与其他核断开之后还能正常工作。 之所以放弃线性化的原因就是性能， 而不是为了容错。