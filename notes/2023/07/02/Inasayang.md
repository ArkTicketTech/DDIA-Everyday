一致性与共识（错误地活着，还是正确地挂掉）

-   分布式系统最重要地抽象之一就是共识：所有节点就某一项提议达成一致



一致性保证

-   大多数多数据副本的数据库都至少提供了最终的一致性；不一致现象是暂时的，最终会达到一致；最终一致性意味着“收敛”，预期所有副本最终会收敛相同的值；这是弱保证，因为不知道何时收敛；在读之前，可能返回任何值或者读失败
-   分布式一致性主要针对延迟和故障等问题带来的协调副本之间的状态



可线性化

-   可线性化也称为原子一致性，强一致性等
-   在一个可线性化的系统中，一旦某个客户端成功提交写，所有客户端的读一定能看到刚刚写入的值；单一副本的假象保证读取最近最新的值，不是过期的缓存；可线性化是一种就近的保证



如何达到线性化

-   在一个可线性化的系统中，在写操作的开始与结束之间必定存在某个时间点，x的值发生了从0到1的跳变；如果某个客户端读到了新值1，即使写操作尚未提交（没提交怎么还能读到新值的？），则后续的读取也必须全部返回新值



可线性化和可串行化

-   可串行化
    -   是事务的隔离属性，每个事务可以读写多个对象
    -   保证事务执行的结果与串行执行的结果完全相同 ，即使串行执行的顺序可能与事务实际执行顺序不同
-   可线性化
    -   是读写寄存器（单个对象）的最新值保证
    -   不要求将操作组合到事务中，所以无法避免写倾斜等问题
-   可以同时支持可串行化与线性化
    -   被称为严格的可串行化或强的单副本可串行化（`strong one-copy serializability,strong-ISR`）
    -   两阶段加锁



Pp. 303-311