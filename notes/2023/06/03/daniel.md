### 松散的Quorums和Hinted Handoff

正常的 Quorum 能够容忍一些副本节点的宕机，在大型集群（节点数量显着大于n）中，最初选中的 n 台机器，由于种种原因（宕机、网络问题），导致无法达到法定读写数目，则此时有两种选择：

- 为所有无法达到w或r节点法定人数的请求返回错误
- 接受写入，并将它们写入可达但不属于通常存储值的n个节点之一的一些节点

后者被称为松散的法定人数（**sloppy quorum**）：写入和读取仍然需要w和r的成功响应，但是其所在节点集合可以发生变化。一旦网络中断得到修复，任何一个节点暂时接受的另一个节点的写入都会被发送到应该在的节点，这被称为提示性移交。

松散的法定人数特别适用于增加写入可用性：只要有任何w个节点可用，数据库就可以接受写入。然而，这意味着即使w + r > n，也无法确定读取键的最新值，因为最新值可能已经暂时写入n之外的一些节点。因此，松散的法定人数实际上不是传统意义上的法定人数。它只是一种耐久性保证，即数据在某个地方存储在w个节点上。在提示性移交完成之前，不能保证r个节点的读取将看到它。在所有常见的Dynamo实现中，松散的法定人数都是可选的。在Riak中，它们默认启用，在Cassandra和Voldemort中，它们默认禁用。

### 3 **多数据中心**

无主模型也适用于系统多数据中心部署。

为了同时兼顾**多数据中心**和**写入的低延迟**，有一些不同的基于无主模型的多数据中心的策略：

1. 其中 Cassandra 和 Voldemort 将 n 配置到所有数据中心，但写入时只等待本数据中心副本完成就可以返回。
2. Riak将客户端和数据库节点之间的所有通信保持在一个数据中心内，跨数据中心的复制在后台异步进行。
