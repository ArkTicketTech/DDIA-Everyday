路由请求

这个问题也称为服务发现。有不同的方法：

允许客户端联系任何节点并让他们直接处理请求，或将请求转发到适当的节点。
首先将来自客户端的所有请求发送到充当分区感知负载平衡器的路由层。
让客户端知道分区和分区到节点的分配。
在许多情况下，问题是：做出路由决策的组件如何了解分区分配给节点的变化？

许多分布式数据系统依赖于单独的协调服务（例如 ZooKeeper）来跟踪此集群元数据。
每个节点在 ZooKeeper 中注册自己，ZooKeeper 维护分区到节点的权威映射。路由层或分区感知客户端可以在 ZooKeeper 中订阅此信息。 
HBase、SolrCloud 和 Kafka 使用 ZooKeeper 来跟踪分区分配。 MongoDB 依赖于它自己的配置服务器。 
Cassandra 和 Riak 采用不同的方法。
