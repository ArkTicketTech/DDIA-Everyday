消息代理
一种广泛使用的替代方法是通过消息代理（message broker），也称为消息队列（message queue）发送消息。消息代理实际上是一种针对处理消息流而优化的数据库。它作为服务器运行，生产者和消费者作为客户端连接到服务器，生产者将消息写入代理，消费者从代理哪里读取消息。
通过将数据集中在代理上，这些系统可以更容易地容忍客户端的崩溃，持久性的问题也转移到代理上。消费者通常是异步的，只有当消息堆积严重时会有显著延迟。
消息代理与数据库的对比
区别不大

多个消费者
当多个消费者从同一主题中读取消息时，有两种主要的消息传递模式
● 每条消息只被传递给其中一个消费者，多个客户端可以从同一个队列中消费来实现负载均衡，而在 JMS 中则称之为共享订阅；
● 每条消息都被传递给订阅的所有消费者，称为扇出（fan-out）。
两种模式可以组合使用：例如，在一个主题上可以创建两个独立的消费者组，每个消费者组都订阅这个主题。当消息发布到这个主题时，两个消费者组都会接收到所有的消息。但是，在每个消费者组内部，每条消息只会由一个节点来处理
