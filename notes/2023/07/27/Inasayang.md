初始快照

-   有了所有更改的日志，可以通过replay日志重建数据库的整个状态
    -   保留所有的日志太大，replay时间还长
-   快照必须与replay日志中的偏移量对应
    -   CDC集成了

日志压缩

时间溯源

-   DDD
-   将所有对程序的状态的更改保存为更改事件的日志
-   应用程序逻辑基于写入事件日志的不可变事件构建
    -   时间存储只追加

从事件日志导出当前状态

-   有一些机制保存当前的快照（什么机制，没说）

命令和事件

-   被接收的命令才是事件（这么理解对不对）

Pp. 427-431

