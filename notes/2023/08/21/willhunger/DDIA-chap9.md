##### Implementing total order broadcast using linearizable storage
假设我们有线性一致的存储，接下来会展示如何在此基础上构建全序广播。
最简单的方法是假设你有一个线性一致的寄存器来存储一个整数，并且有一个原子 **自增并返回** 操作。或者原子 CAS 操作也可以完成这项工作。

算法：每个要通过全序广播发送的消息首先对线性一致寄存器执行 **自增并返回** 操作。然后将从寄存器获得的值作为序列号附加到消息中。然后你可以将消息发送到所有节点（重新发送任何丢失的消息），而收件人将按序列号依序传递（deliver）消息。

但是实现一个带有原子性**自增并返回**操作的线性一致性寄存器比较困难，涉及到共识算法：线性一致的 CAS（或自增并返回）寄存器与全序广播都等价于 **共识** 问题。
