# 第六章

分片、Sharding、Tablet、Partition、分区都理解为一个意思就行：**有意将大型数据库分解成小型数据库的方式**

### 为什么要分区？

- 可伸缩性，不同的分区可以放在不共享集群中的不同节点上，对于一个数据量不断增长的数据库，就可以通过增加机器数量的方式无限拓展。

- 提高吞吐量，较大的数据集，可以分散在多个机器的多个磁盘上，对于该数据集的查询，如果覆盖了多个分区，也可以同时从多个分区查询。因为磁盘和CPU都是独立的。

## 分区与复制

复制为数据提供了容灾能力，而分区则提供了拓展和吞吐能力。

如果将分区和复制结合，那么每个分区的副本都存储在多个节点上，我们就以分区为单位获得了容灾能力。

最近在做的tinyKV（TiKV）的架构：

![img](https://wtsclwq.oss-cn-beijing.aliyuncs.com/2023-03-02-F0b9M8.png)

## KV数据的分区

我们的理想目标是均分，也就是数据和负载都能够均匀的分布在每一个分区上。
