# 重平衡分区
将负载从集群中的一个节点移动到另一个节点的过程。
如何不这样做：Hash mod n。 mod N 的问题在于，如果节点数 N 发生变化，则大部分键将需要从一个节点移动到另一个节点，并且操作非常昂贵。
固定分区数：
创建比节点更多的分区，并为每个节点分配多个分区。
当添加一个新节点时，它可以从每个现有节点中窃取一些分区，直到分区再次公平分布。
分区的数量不变，分配给分区的键也不变。
唯一改变的是将分区分配给节点。
动态分区：
使分区数适应总数据量。
空数据库以空分区开始。 所有数据最终都可能在一个节点上。
当一个分区增长到超过配置的大小时，它会被分成两个分区，这样大约一半的数据最终会出现在拆分的每一侧。
相反，如果删除了大量数据并且分区缩小到某个阈值以下，则可以将其与相邻分区合并。
按节点比例分区：
像 Cassandra 这样的数据库使得分区数与节点数成正比。
每个节点有固定数量的分区。 这种方法还可以使每个分区的大小保持相当稳定。
