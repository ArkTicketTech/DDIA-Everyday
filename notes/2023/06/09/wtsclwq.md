由于是二进制数据，所以在序列化时不需要考虑可读性，因此可以用上一些运行时消耗较小的压缩和编码技术，比如Zigzag编码

## 数据流模型

### 通过数据库

**只由同一个进程访问**。则数据库可以理解为该进程向将来发送数据的中介。

**由多个进程访问**。则多个进程可能有的是旧版本，有的是新版本，此时数据库需要考虑向前和向后兼容的问题。

**schema变更问题**。在某个时刻，你给一个表增加了一个字段，较新的代码写入带有该字段的行，之后又被较旧的代码覆盖成缺少该字段的行。这时候就会出现一个问题：我们更新了一个字段 A，更新完后，却发现字段 B 没了。

### 通过服务调用：REST和RPC

两种角色：服务器（server）和客户端（client），当然C/S是相对于一项服务来说的，对于另一个服务，S可能也是C。因为我们常把一个大的服务拆成一组功能独立、相对解耦的服务，这就是 **面向服务的架构（service-oriented architecture，SOA）**，或者最近比较火的**微服务架构（micro-services architecture）**。

> 通常来说，暴露于公网的多为 HTTP 服务，而 RPC 服务常在内部使用。
