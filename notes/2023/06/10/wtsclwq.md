### 通过异步消息

> 客户端的请求(通常称为消息)以低延迟传递到另一个进程，不是通过直接的网络连接发送消息,而是通过称为消息代理(也称为消息队列,或面向消息的中间件)的中介发送的,该中介会暂存消息。

消息代理的优点：

1. 缓冲
2. 自动重发
3. 发送方不需要指定IP和端口号
4. 一发多收
5. 发送方与接收方分离，发送方只是发布消息,并不关心谁使用它们

# 第二部分：分布式数据系统

### 为什么要分布式：

1. 拓展新
2. 容错
3. 降低延迟：如果客户遍布世界各地, 通常需要考虑在全球范围内部署服务, 以方便用户就近访问最近数据中心所提供的服务, 从而避免数据请求跨越了半个地球才能到达目标。

### 复制与分区

1. 复制：多个节点保存相同数据，提供冗余能力，一个节点挂了其他的还有完整的数据可用
2. 分区：大量数据打散到多个节点，查询和写入时可以并行从多个节点操作

二者经常混合使用，打散的数据分区会有多个冗余。

<img src="https://wtsclwq.oss-cn-beijing.aliyuncs.com/image-20230611005135883.png" alt="image-20230611005135883" style="zoom:33%;" />
