### 图模型

图由两种对象组成: 顶点(也称为结点或实体)和边(也称为关系或弧)。

典型的例子包括:

1. 社交网络
   顶点是入, 边指示哪些入彼此认识。
2. Web图
   顶点是网页, 边表示与其他页面的HTML链接。
3. 公路或铁路网
   顶点是交叉路口,边表示他们之间的公路或铁路线。

图并不局限千这样的同构数据, 图更为强大的用途在于, 提供了单个数据存储区中保存完全不同类型对象的一致性方式。

<img src="https://wtsclwq.oss-cn-beijing.aliyuncs.com/image-20230527084012429.png" alt="image-20230527084012429" style="zoom:53%;" />

#### 如何建模图数据

1. 属性图

   1. 每个顶点包括：
      - 唯一标识符
      - 出边集合
      - 入边集合
      - 属性集合
   2. 每个边包括
      - 唯一标识符
      - 起始顶点
      - 结束顶点
      - 顶点之间关系的类型
      - 属性集合

   <img src="https://wtsclwq.oss-cn-beijing.aliyuncs.com/image-20230527085151701.png" alt="image-20230527085151701" style="zoom:43%;" />

2. 三元存储模型 

   在三元存储中, 所有信息都以非常简单的三部分形式存储(主体, 谓语, 客体)。 

   例如, 在三元组(吉姆, 喜欢, 香蕉)中, 吉姆是主体, 喜欢是谓语(动词), 香蕉是客体。

   主体必定是图中的顶点，客体可以是：

     1. 原始数据类型中的值，此时谓语和课题分别相当于主体中的属性的**key-value**

     1. 图中的另一个顶点，此时谓语是图中的边

<img src="https://wtsclwq.oss-cn-beijing.aliyuncs.com/image-20230527085720800.png" alt="image-20230527085720800" style="zoom:43%;" />

# 第三章

> 从最基本的层面看, 数据库只需做两件事情:向它插入数据 时, 它就保存数据;之后查询时, 它应该返回那些数据。

### DB中常见的数据结构

#### 一种最简单的数据库：

```bash
#!/bin/bash
db_set(){
	echo "$1,$2" >> database
}
db_get(){
	grep "^$1," database | sed -e "s/^$1,//" | tail -n 1
}
```

