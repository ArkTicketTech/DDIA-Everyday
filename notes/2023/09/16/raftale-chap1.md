很多应用程序都是数据密集型，而非计算密集型的。

数据密集型应用通常由标准组件构成，标准组件提供了许多通用的功能：

1. 存储数据，即数据库
2. 记住开销昂贵操作的结果，加快读取速度：缓存
3. 允许用户按关键字搜索/过滤数据：搜索引擎
4. 向其他进程发送消息，进行异步处理：流处理
5. 定期处理累积的大批量数据：批处理



目标：可靠、可伸缩、可维护的数据系统



## 关于数据系统的思考

数据库、消息队列、缓存、搜索引擎



许多新的数据存储工具与数据处理 之间的界限越来越模糊，数据存储可以被当成消息队列使用（redis），消息队列则带有类似数据库的持久性保证（kafka）。



可靠性：系统在困境下仍可以正常工作

可伸缩性：有合理的办法应对系统的增长

可维护性：许多不同的人（工程师、运维）在不同的生命周期，都能高效地在系统上工作（使系统保持现有行为，并适应新的应用场景）





### 可靠性

造成错误的原因叫做故障（fault），故障不等同失败（failure），失败或者说失效说明系统完全停止向用户提供服务，而故障是部分的。

能预料并应对故障的系统特性可称为 容错（fault-tolerant）

最好设计容错机制以防因故障而失效。



#### 硬件故障

硬件冗余的基础上引入软件容错机制，就提高了系统可靠性；





#### 软件错误

进程隔离、监控、允许重启是应对软件错误比较好的方法。



#### 人为错误

如何避免：

1. 以最小化犯错机会的方式设计系统：精心设计的抽象
2. 最容易犯错的地方进行解耦；
3. 彻底的测试
4. 出错后快速恢复
5. 良好的监控
6. 良好的管理





#### 可靠性的重要性

软件失效会对现实世界造成损失
